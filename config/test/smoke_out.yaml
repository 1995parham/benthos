input:
  type: fan_in
  fan_in:
    inputs:
    - type: kafka
      kafka:
        addresses:
        - localhost:9092
        client_id: benthos_kafka_input
        consumer_group: benthos_consumer_group
        topic: benthos_topic
        partition: 0
        start_from_oldest: true
    - type: amqp
      amqp:
        uri: amqp://guest:guest@localhost:5672/
        exchange: benthos-exchange
        exchange_type: direct
        queue: benthos-queue
        key: benthos-key
        consumer_tag: benthos-consumer
        prefetch_count: 1
        prefetch_size: 0
    - type: nsq
      nsq:
        nsqd_tcp_addresses:
        - localhost:4150
        lookupd_http_addresses:
        - localhost:4161
        topic: benthos_messages
        channel: benthos_stream
        user_agent: benthos_consumer
        max_in_flight: 100
    - type: nats
      nats:
        url: nats://localhost:4222
        subject: benthos_messages
    - type: nats_stream
      nats_stream:
        url: nats://localhost:4223
        cluster_id: test-cluster
        client_id: benthos_client_2
        subject: benthos_messages
